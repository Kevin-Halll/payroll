<section class="flex justify-center w-full h-full">
    <section class="flex flex-col">
        <h1 class="text-3xl font-bold text-blue-900 text-center p-5 my-5 border-b-2 border-b-[#131176] uppercase">
            Departments Table
        </h1>

        <div class="fade">
            <% if (messages.success){ %>
                <p class="flash w-fit shadow-sm text-2xl text-green-500"><%- messages.success %> </p>
            <% } %> 
        </div>

        <div class="flex justify-end mb-3">
            <a href="/department-add" class="bg-[#131176] text-white p-3 block">
                Add Department
            </a>
        </div>

       
        <table class="border p-3 text-center">
            <thead class="bg-cyan-600 text-white">
              <th class="px-5 py-3 border">Department ID</th>
              <th class="px-5 py-3 border">Department</th>
              <th class="px-5 py-3 border">Rate Per Hour</th>
              <th class="px-5 py-3 border">Actions</th>
            </thead>
      
            <tbody>
              <% departments.forEach(dep => { %>
              <tr class="hover:shadow-md hover:shadow-cyan-400">
                <td class="px-5 py-3 border"><%=dep.id %> </td>
                <td class="px-5 py-3 border"><%=dep.department %> </td>
                <td class="px-5 py-3 border"><%=dep.rate_per_hour %></td>
                <td class="px-5 py-3 border flex items-center gap-5 border-collapse">

                    <div class="hover:text-cyan-500 text-sm" title="Edit Project">
                        <a href="/edit-department/<%= dep.id %> ">
                            <i class="fa-solid fa-pen"></i> Edit
                        </a>
                      </div>
        
                    <div class="hover:text-orange-500 text-sm" title="Delete Project">
                      <a href="/delete-department/delete/<%= dep.id %> ">
                        <i class="fa-solid fa-trash"></i> Delete
                      </a>
                    </div>

                </td>
                
              </tr>
              <% }) %>
            </tbody>
          </table>

          <div class="p-5 bg-[#EEE] font-thin text-center mt-auto">
            <p>Copyright @ Serhant Construction Ltd. 2022</p>
          </div>
    </section>
</section>

<style>
    .flash{
        animation: fadeOut ease 10s;
        animation-iteration-count: 1;
        animation-fill-mode: forwards;
    }
    @keyframes fadeOut {
    0% {
        opacity: 1;
    }
    100% {
        opacity: 0;
     }
    }
</style>